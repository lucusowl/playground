# 보안 운영체제

## 1. 기본 개념

`운영체제 + 보안커널`  

- 운영체제의 보안결함으로부터 보호하기 위함
- 기존 APP 실행환경은 그대로 유지 + 시스템 차원의 보안기능 제공
- 기술핵심
  - 정보영역 분리
  - 역할기반 영역분리
  - 최소권한 유지
  - 커널 레벨의 강제적 접근제어

## 2. 주요 제공 기능

### 2.1. 보호대상

- 메모리
- 보조기억장치 속 파일 & 데이터
- 메모리 속 실행중인 프로그램
- 파일|디렉토리
- 하드웨어 장치

### 2.2. 보호방법

구현 복잡도 순

- 물리적 분리: 사용자별 사용 장비 제한, 강한분리+낮은실용
- 시간적 분리: 프로세스가 동일시간동안 하나만 실행, 작업단순화
- 논리적 분리: 프로세스에 논리적 구역할당, 그외 접근불가
- 암호적 분리: 내부 정보 암호화
- 복잡한 조합 ...

### 2.3. 파일시스템 보호기법

파일시스템 보호는 공용문제와 병행 고려(자원낭비 방지)  

- 파일명
  - 다른 사용자가 파일 이름을 알 수 없게 하기 위함
  - 이름으로 내용 추측 어렵게
- 패스워드
  - 사용자마다 다른 패스워드 부여
  - 임의 패스워드를 알아야 파일 접근 가능
- 암호화
  - 내용 암호화 -> 공유가능, 인가된 사용자만 접근가능

## 3. 보안 운영체제와 보안커널

### 3.1. 보안 운영체제 기능

1. 사용자 식별 및 인증
   - 개별 사용자 안전 식별 + 고유 식별 -> 신분증명
2. 접근 통제
   1. 임의적 접근통제, Discretionary Access Control
      - 신분기반 정책
      - 주체[^1]나 신분에 근거하여 객체에 접근제한
   2. 강제적 접근통제, Mandatory Access Control
      - 규칙기반 정책
      - 객체의 비밀등급, 주체의 권한에 근거해 객체에 접근제한
3. 객체 재사용 보호
   - 재할당되는 영역이 과거 데이터가 남아 있는 경우 -> 데이터 노출
   - 할당되는 모든 기억장치공간 지우고 할당
4. 완전한 조정
   - 기본적으로 모든 접근을 통제 수행 -> 임의|강제적 접근통제 효과적
5. 신뢰 경로
   - 사용자가 보안 관련 접근시 보안OS에서 마련한 경로가 제공되어야 함
6. 감사 & 감사 기록 축소
   - 모든 보안 사건은 감사 기록부[^3]에 반드시 기록 & 명백히 보호

### 3.2. 보안 커널

TCB 구성 + 참조모니터 개념 구현 + 집행  
보안 주체와 객체 사이의 모든 접근과 기능을 중재

요구사항
1. 참조 모니터 수행 프로세스 분리 + 변조 방지
2. 모든 객체 접근 시도에 대해 실행되어야 함 + 우회불가 + 오류발생불가
3. 완전 + 포괄적 시험으로 보안커널 기능을 확인되어야 함

### 3.3. TCB, 신뢰 컴퓨팅 기반

`Trusted Computing Base`  
하나의 컴퓨터 시스템 내의 모든 보호매커니즘 총체  
보안 정책을 적용할 책임

- 신뢰된 경로 Trusted Path
  - 주체와 객체 사이의 통신채널, 이 통신채널은 손상되지 않게 보호 기능이 제공되어야 함
- 보안경계 Security Perimeter
  - 신뢰 구성요소인지 아닌지 구분짓는 개념적 구분선

제공하는 모니터 기능
1. 프로세스 활성화
2. 실행 도메인 변경
3. 메모리 보호
4. 입출력 연산

국제 공통 평가 기준(CC)과 같은 평가기준에 의해 평가

### 3.4. 참조모니터

`Reference Monitor`  
주체의 객체 접근통제를 담당(중재)하는 추상머신  
보안커널 DB(SKDB)를 참조하여 객체에 대한 접근허가 여부를 결정  

규칙, 특성
1. 격리성, Isolation
   - 분리되고, **부정조작 방지**
   - (Must be tamperproof)
2. 검증가능성, Verifiability
   - 크기가 작고, 모든 동작을 **항상 분석+테스트를 통해 확인 가능**
   - (Must be Verifiable)
3. 완전성, Completeness
   - **우회불가**, 항상 무시되지 않고 호출되어야 함
   - (Always invoked)

### 3.5. 요약

| 이름        | 구분점                         |
| ---------- | ----------------------------- |
| 보안커널    | TCB로 구성된 커널                |
| TCB        | 참조모니터를 구현한 HW/FW/SW      |
| 참조모니터   | 객체 보호, 주체 접근통제 추상 개념 |

## 4. TPM, 신뢰 플랫폼 모듈

`Trusted Platform Module`  
TCG[^4] 산업체 컨소시엄에 의해 표준화된 개념  
HW/SW 신뢰 컴퓨팅을 위한 핵심 HW 모듈  

특징
- 훼손방지, 하드웨어 칩 구현이 일반적(종종 소프트웨어 구현)
- 물리적 도난에도 정보 노출이 낮음
- 신뢰 연산 제공
  - 암호화 키 생성 + 저장
  - 패스워드 저장
  - 무결성 검증을 위한 측정값 저장
  - 디지털 인증서 관련 연산

### 4.1. 기본 서비스

1. 인증된 부트 서비스; 전체 운영체제 단계적 부팅 + 각 적재 부분 승인된 버전임을 보장
2. 인증 서비스; TPM에 의해 설정[^99]이 완성되고 로그인되면, 다른 설정을 인증 가능, TPM의 private key로 설정 정보에 서명 -> 디지털 인증 생성가능
3. 암호화 서비스; 특정 기계가 특정 설정일 때만 복호화가 가능하게 지원

---

[^1]: 보안주체: 프로세스, 스레드, 사용자
[^2]: 보안객체: HW(중앙처리장치,디스크,장치,...)/SW(데이터,파일,프로그램,세마포어,...)
[^3]: 사용자행위에 대한 증거 데이터 시간순으로 기록, 관리책임자가 총괄, 각 업무관리자는 열람만 가능
[^4]: Trusted Computing Group
[^99]: ???